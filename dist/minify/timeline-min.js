"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();!function(){var e=function t(e,n){_classCallCheck(this,t);var a=new Date;this.year=e||a.getUTCYear(),this.month=n||a.getMonth()+1},n=function(){function e(){var n=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?760:arguments[1],a=arguments.length<=2||void 0===arguments[2]?140:arguments[2];_classCallCheck(this,e);var i=this;i.timenodes=n,i.width=t,i.padding=a,i.monthRange=0,i.monthDistance=0,i.earliestMonth=0}return _createClass(e,[{key:"addTimenode",value:function(e){var n=this;return n.timenodes=n.timenodes.concat(e),n.timenodes.sort(function(e,n){return e.year<n.year?!0:e.year>n.year?!1:e.month<n.month}),1===n.timenodes.length?0:(n.monthRange=12*n.timenodes[0].year+n.timenodes[0].month-(12*n.timenodes[n.timenodes.length-1].year+n.timenodes[n.timenodes.length-1].month),n.monthDistance=(n.width-n.padding)/n.monthRange,n.firstMonth=12*n.timenodes[0].year+n.timenodes[0].month,n.earliestMonth=12*n.timenodes[n.timenodes.length-1].year+n.timenodes[n.timenodes.length-1].month,0)}},{key:"applyToDOM",value:function(e){}}]),e}();window.Timenode=e,window.Timeline=n,window.createTimeline=function(t){var a=arguments.length<=1||void 0===arguments[1]?760:arguments[1],i=arguments.length<=2||void 0===arguments[2]?140:arguments[2],s=new n([],a,i);$(t+" > ul").children().map(function(n,t){var a=parseInt($(t).attr("year")),i=parseInt($(t).attr("month")),o=new e(a,i);return s.addTimenode(o),null}),$(t+"> ul").children().map(function(e,n){var t=parseInt($(n).attr("year")),a=parseInt($(n).attr("month")),i=$(n).attr("data-position")||"",o=(s.padding/2+s.monthDistance*(s.firstMonth-(12*t+a))).toString()+"px";$(n).css("left",o);var l=t+"."+(10>a?"0"+a:a);$(n).append('<span class="time">'+l+'</span><br /><span class="position">'+i+"</span>")}),$(t+"> ul").children().map(function(e,n){var a=$(n).attr("target-slider"),i=$(t+' > .timeline-slider > [timeline-order="{0}"]'.replace("{0}",a));$(n).click(function(){var e=$(i).prevAll(),t=$(i).nextAll();$(i).map(function(e,n){$(n).hasClass("slide-left")&&$(n).removeClass("slide-left")}),$(e).map(function(e,n){$(n).hasClass("slide-left")||$(n).addClass("slide-left")}),$(t).map(function(e,n){$(n).hasClass("slide-left")&&$(n).removeClass("slide-left")});var a=$(n).siblings();$(a).map(function(e,n){$(n).hasClass("selected")&&$(n).removeClass("selected")}),$(n).hasClass("selected")||$(n).addClass("selected")})})}}();